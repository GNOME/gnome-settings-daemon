[Unit]
Description=GNOME Wacom handling

Requisite=gnome-session-initialized.target
After=gnome-session-initialized.target
PartOf=gnome-session-initialized.target
Before=gnome-session.target

# Use the following once wacom.target or similar exists
Requisite=wacom.target
After=wacom.target
PartOf=wacom.target

[Service]
Type=dbus
ExecStart=@libexecdir@/gsd-wacom
Restart=on-failure
BusName=@plugin_dbus_name@

# We cannot use OnFailure as that may be called for dependency issues
ExecStopPost=@libexecdir@/gnome-session-ctl --fail-if-start-limit-hit

[Install]
WantedBy=gnome-session-initialized.target
WantedBy=wacom.target
