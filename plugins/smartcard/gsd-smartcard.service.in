[Unit]
Description=GNOME Smartcard handling
# Note that we do the shengians with having a target and a service solely
# so that OnFailure is not called in case of a dependency failure.
# See also https://github.com/systemd/systemd/issues/12352
OnFailure=gnome-session-failed.target
RefuseManualStart=true
RefuseManualStop=true

PartOf=gsd-smartcard.target
After=gsd-smartcard.target

[Service]
Type=dbus
ExecStart=@libexecdir@/gsd-smartcard
Restart=on-failure
BusName=@plugin_dbus_name@
